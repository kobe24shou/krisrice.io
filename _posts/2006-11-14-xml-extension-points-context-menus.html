---
layout: post
title: XML Extension Points ( Context Menus )
date: '2006-11-14T20:41:00.000-08:00'
author: Kris Rice
tags:
- Extensions
modified_time: '2006-11-15T15:33:12.269-08:00'
blogger_id: tag:blogger.com,1999:blog-37621059.post-116363337830692183
blogger_orig_url: http://krisrice.blogspot.com/2006/11/xml-extension-points-context-menus.html
---

<br />To follow up from <a href="http://www.orablogs.com/krice/archives/001848.html#more">last week</a> on how to share reports. The same holds true for context menus.  The <a href="http://www.orablogs.com/krice/archives/001739.html">explanation here</a> about how to create the xml to create a menu action is the same. The method to add context menu is the same as reports.  Although these menu actions are not (yet) on the exchange, the preferences can still point to any url, so the shared file could reside on a web server.<br /></p><p><br />Also like with the reports there's also an api call to register context menus:<br /></p><p style="font-family:monospace;font-size:9pt;"><br />XMLBasedObjectAction.registerContextMenus(URL);<br /></p><p><br />Even though the explaintion is the same and the way to add them is just like reports there are some new things in this area.  The first and probably most useful is we have an XML Schema for what these context menus  <a href="http://www.orablogs.com/krice/dialogs.xsd">dialogs.xsd</a>.  I'll put up the xml schema for the other extension points and I'll be adding annotations to the schema but most of the things in it should be fairly easy to follow.<br /></p><br /><br /><br /><p><br />There are a few areas in this which changed for example now the prompts can be required and have validators for things like checking what the user has entered against the database charset.  To make a prompt and have it checked the xml would look something like this:  <br /></p><p><br /><span style="font-family:monospace;font-size: 9pt;">	&lt;prompt required="true" validator="charset"&gt;<br /><br />	    &lt;label&gt;Table Name&lt;/label&gt;	&lt;/prompt&gt;</span><br /></p><p><br />These validators must implement a very simple interface which is :<br /></p><p><br /><span style="font-family:monospace;font-size: 9pt;"><br /><br />oracle.dbtools.raptor.controls.validators.IValidator<br /><br /></span><span style="font-family:monospace;color:#7f0055;font-size:9pt;">   public</span><span style="font-family:monospace;font-size: 9pt;"> </span><span style="font-family:monospace;color:#7f0055;font-size:11pt;">boolean</span><span style="font-family:monospace;font-size:9pt;"> isValid(String conn,Object o);<br /><br /></span><span style="font-family:monospace;color:#7f0055;font-size:9pt;">   public</span><span style="font-family:monospace;font-size: 9pt;"> String getMessage();<br /><br /></span><br /></p><p><br />Then the validator simply need be registered with a call to<br /></p><p style="text-indent:20pt;"><br /><span style="font-family:monospace;font-size: 9pt;">ValidatorRegistry.registerValidator(name,class);</span><br /></p><p><br />Currently the only other one shipping is  "numeric" which checks the input to ensure it's a number.<br /></p>