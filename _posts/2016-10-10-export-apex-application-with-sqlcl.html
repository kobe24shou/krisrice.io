---
layout: post
title: 'Export APEX application with SQLcl '
date: '2016-10-10T17:21:00.001-07:00'
author: Kris Rice
tags:
- sqlcl
modified_time: '2016-10-11T06:20:10.365-07:00'
thumbnail: https://1.bp.blogspot.com/-Ae-xAVxpbj4/V_wE-9lneDI/AAAAAAAABM0/nmyH3sf5ngETttWAVfvss3WYtn3tCGH_gCK4B/s72-c/sqlcl_apxexp.gif
blogger_id: tag:blogger.com,1999:blog-37621059.post-2751130849639960875
blogger_orig_url: http://krisrice.blogspot.com/2016/10/export-apex-application-with-sqlcl.html
---

<br />APEXExport has been around a long time for exporting an application and anything else like images, feedback,websheets,.. into a file system so that they can be version controlled. &nbsp;This is a must if there is ever a need to rollback or see what the application was X days ago. &nbsp;This is a java program that is part of the apex distribution. &nbsp;The catch for some folks is that it's a java program and being mostly DB / APEX / PLSQL people java isn't something that's normally done which makes it a tad cumbersome.<br /><br /><br />Now, enter my long flight today with nothing much to do.<br /><br /><br /><h3>SQLcl and Javascript</h3><br />There's not much that can't be done with SQLcl and Javascript. &nbsp;Here's the latest example that is probably the most useful example for anyone using APEX.<br /><br />The benefit is that this is just a command in SQLcl just like the new INFO command or the DESC or anything else. &nbsp;Just another command for developers to use. &nbsp;I took the existing APEXExport which was all java around 800+ lines of code and rewrote into javascript which cut the size in half! &nbsp;The reason for this is that as a java program the APEXExport had to create a connection, take db username|password|tns. &nbsp;Then it also had to deal with the low lever database calls for looping resultsets and closing them after.<br /><br />Just as an example, here's the normal JDBC vs SQLcl way to get a single column from a single row into a variable to use.<br /><br /><pre class="brush:java;">PreparedStatement stmt = conn.prepareStatement("select user from dual");<br />            ResultSet rset = stmt.executeQuery();<br />            rset.next();<br />            String userName = rset.getString(1);<br />            rset.close();<br />            stmt.close();<br /></pre><br />VS<br /><br /><pre class="brush:javascript;">var user = util.executeReturnOneCol('select user from dual');<br /></pre><br /><br /><br /><br /><br /><a href="http://1.bp.blogspot.com/-Ae-xAVxpbj4/V_wE-9lneDI/AAAAAAAABM0/nmyH3sf5ngETttWAVfvss3WYtn3tCGH_gCK4B/s1600/sqlcl_apxexp.gif" imageanchor="1"><img border="0" height="296" src="https://1.bp.blogspot.com/-Ae-xAVxpbj4/V_wE-9lneDI/AAAAAAAABM0/nmyH3sf5ngETttWAVfvss3WYtn3tCGH_gCK4B/s640/sqlcl_apxexp.gif" width="640" /></a><br /><br /><br /><br />To load this just grab the script from github and load it into SQLcl.  Once this is done SQLcl will now have the "apxexp" command. &nbsp;This is a first pass as the port of the code. &nbsp;If anyone finds an issue, log a ticket or just ping me on twitter @krisrice<br /><br /><pre class="brush:sql;">SQL&gt;script apxexp<br /></pre><br /><br />Next I'll port the APEXExportSplitter over.<br /><div><br /></div><br /><script src="https://gist-it.appspot.com/http://github.com/oracle/oracle-db-tools/blob/master/sqlcl/examples/apxexp.js"></script>