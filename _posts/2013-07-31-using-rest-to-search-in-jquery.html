---
layout: post
title: Using REST to search in JQuery
date: '2013-07-31T13:26:00.001-07:00'
author: Kris Rice
tags:
- ords
modified_time: '2015-07-14T08:47:52.523-07:00'
thumbnail: http://2.bp.blogspot.com/-4M5O-KXBBFs/UflxU0L5AbI/AAAAAAAAAug/UGy7_Ua4Bf8/s72-c/Screen+Shot+2013-07-31+at+4.18.40+PM.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-6704445285512342574
blogger_orig_url: http://krisrice.blogspot.com/2013/07/using-rest-to-search-in-jquery.html
---

Building on yesterday's <a href="http://krisrice.blogspot.com/2013/07/combining-restful-jquery-and-knockoutjs.html">post</a>, &nbsp;here's adding a search to the same JQuery list:&nbsp;<a class="jsbin-embed" href="http://jsbin.com/efiqix/6/embed?live">SQL Developer Exchange Requests</a><br /><br /><br /><a class="jsbin-embed" href="http://jsbin.com/efiqix/8/embed?html,js,output">SQL Developer Exchange Requests</a><script src="http://static.jsbin.com/js/embed.js"></script><br /><br />The REST Template is only different by adding in a bind variable and adjusting the select some:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-4M5O-KXBBFs/UflxU0L5AbI/AAAAAAAAAug/UGy7_Ua4Bf8/s1600/Screen+Shot+2013-07-31+at+4.18.40+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-4M5O-KXBBFs/UflxU0L5AbI/AAAAAAAAAug/UGy7_Ua4Bf8/s1600/Screen+Shot+2013-07-31+at+4.18.40+PM.png" /></a></div><br /><br />The other thing I added into the JQuery list is the weight of the searched items. &nbsp;Which can be seen in the blue bar here:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-qSB9Fao-Kzk/UflxqP-rOHI/AAAAAAAAAuo/g-WqofHe9Ic/s1600/Screen+Shot+2013-07-31+at+4.20.29+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-qSB9Fao-Kzk/UflxqP-rOHI/AAAAAAAAAuo/g-WqofHe9Ic/s1600/Screen+Shot+2013-07-31+at+4.20.29+PM.png" /></a></div><br /><br />The javascript changes are also fairly small.  I made a function named search which takes in what the text is to search on.  Then few lines to bind the function and the listviewbeforefilter event together. <br /><br /><pre class="brush: javascript">// attach to the before filter in the list<br />     $( "#results" ).on( "listviewbeforefilter", function ( e, data ) {<br />          // grab the value of the search field<br />          var $ul = $( this ),<br />  $input = $( data.input ),<br />  value = $input.val();<br />          // if blanked go back to the recent list<br />          if ( value == '' ) {<br />              loadRecent();<br />          } else {<br />            // debugging<br />              console.log("Loading Search:"+value);<br />            search(value);<br />          }<br />        });<br /><br /><br /> function search(search){<br />   console.log("searching for '" + search + "'");<br />    // out with the old<br />   $("#results").children().remove();<br /><br />    // in with the new<br />    $.ajax({<br />      url: "http://apex.oracle.com/pls/apex/dbtools/features/search?text=" + search ,<br />      type: "GET",<br />      success: function (data) {<br />        console.log(data);<br />        if ( data.items.length == 0 ){ noResults();}<br />        ko.applyBindings(data, document.getElementById("searchPage"));<br />        $('#results').listview('refresh');<br />      }<br />    });<br />  }<br /><br /><br /></pre>