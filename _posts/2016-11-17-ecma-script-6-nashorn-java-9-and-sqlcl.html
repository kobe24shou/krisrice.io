---
layout: post
title: ECMA Script 6 / Nashorn / Java 9 and SQLcl
date: '2016-11-17T06:51:00.000-08:00'
author: Kris Rice
tags:
- sqlcl
modified_time: '2016-11-30T16:14:40.334-08:00'
blogger_id: tag:blogger.com,1999:blog-37621059.post-3001767703507587400
blogger_orig_url: http://krisrice.blogspot.com/2016/11/ecma-script-6-nashorn-java-9-and-sqlcl.html
---

This blog post brought to you by the letter M as in Martin .&nbsp;<a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/martindsouza">Follow @martindsouza</a>&nbsp;. He asked me on twitter if SQLcl via Nashorn could use ECMA Script 6 features yet. &nbsp;The answer is yes. &nbsp;So, for the brave that want to try out the latest greatest ECMA Script 6 features it can be done with SQLcl.<br /><br />This is a good reference for what's in version 6 that could be useful. &nbsp;The only caution is not everything is built into nashorn quite yet. &nbsp;For Example&nbsp;destructuring is not there.<br />&nbsp; &nbsp;http://es6-features.org/#StringInterpolation<br /><br />The Template Literals are probably to me the most interesting thing since it cleans up all things like string concats and multi line string.<br /><br /><br />Here's how to get it working:<br />Step 1: Get Java 9&nbsp;https://jdk9.java.net/download/<br />Step 2: Set the enviroment variable : APP_VM_OPTS="-Dnashorn.args=--language=es6"<br />Step 3: Go.<br /><br />Complete side note as you can see in my default PS1, apple doesn't and has never understood you don't add an 's to a noun ending in a s.<br /><br /><pre class="brush:sql;">kriss-MacBook-Pro:bin klrice$ export APP_VM_OPTS="-Dnashorn.args=--language=es6"<br />kriss-MacBook-Pro:bin klrice$ ./sql klrice/klrice<br /><br />SQLcl: Release 4.2.0 Production on Thu Nov 17 09:22:35 2016<br /><br />Copyright (c) 1982, 2016, Oracle.  All rights reserved.<br /><br />Last Successful login time: Thu Nov 17 2016 09:22:36 -05:00<br /><br />Connected to:<br />Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production<br /><br />SQL&gt; script /Users/klrice/workspace/raptor_common/examples/sql.js<br />Using Binds:[object Object]<br /><br />  ***************************************************************<br />  *****    SIMPLE LOOP OF LIST OF LIST                ***********<br />  ***************************************************************<br /> OBJECT_TYPE    OBJECT_NAME <br /> TABLE    EMPLOYEES <br /><br /><br /><br />  ***************************************************************<br />  *****    SIMPLE LOOP OF LIST OF NAMES WITH BINDS     **********<br />  ***************************************************************<br /> TABLE    EMPLOYEES  <br />SQL&gt; <br /><br /></pre><br />Now this probably looks just like the script from my first blog on how to use javascript&nbsp;<a href="http://krisrice.blogspot.in/2015/10/sqlcl-oct-13th-edition.html">http://krisrice.blogspot.in/2015/10/sqlcl-oct-13th-edition.html</a><br /><br /><br />However the script itself is much nicer to read ( to me anyway ) . What will stand out is multi line string with using a back tick. &nbsp;Also is the evaluating of variables inside the quoted string. No more string concatenations!<br /><br /><script src="https://gist-it.appspot.com/http://github.com/oracle/oracle-db-tools/blob/master/sqlcl/examples/sql.ecma6.js"></script><br /><br /><br />