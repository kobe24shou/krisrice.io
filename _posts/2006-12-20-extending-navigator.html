---
layout: post
title: Extending the Navigator
date: '2006-12-20T16:23:00.000-08:00'
author: Kris Rice
tags:
- Extensions
modified_time: '2008-12-08T13:13:23.722-08:00'
thumbnail: http://4.bp.blogspot.com/_HTPuwjEAZfk/RYnSyVGngxI/AAAAAAAAAAM/sy0uL3Swkos/s72-c/custom_table_collapse.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-3329252748195184385
blogger_orig_url: http://krisrice.blogspot.com/2006/12/extending-navigator.html
---

<p style="text-indent:20pt;"><br />Now that Sql Dev 1.1 is out, we can start showing some of the new way to extend it.  The new thing I'll talk about is the new navigator.  It's been re-written from scratch.  This new one is mostly based all in XML much like lots of areas in Sql Dev.  The schema will be published later but here's a quick peek at what can be done.<br /></p><p style="text-indent:20pt;"><br />This example will add a node to the connection under Oracle connections only name "Custom Table." I've updated the <a href="http://esdev.sourceforge.net/sqldev_skeleton.zip">skeleton</a> extension mentioned <a href="http://krisrice.blogspot.com/2006/11/getting-started-with-extension.html">before</a> to include this example.  There's 1 changed file and 1 new file.<br /></p><p><br />First we'll create the file which has the sql and tree information to be added.  This is located <a href="http://esdev.svn.sourceforge.net/viewvc/esdev/trunk/org.esdev/skeleton/src/sample/table.xml?revision=24&amp;view=markup">here</a>. When you look at this file there's somethings which will look quite familiar like the &lt;query&gt; tag.  This is the same tag used by the reports.  The parts that add this to the tree for Oracle connections is<br /></p><p style="text-indent:20pt;"><br />&lt;objectType connType="Oracle" id="TABLE" weight="0.0"&gt;<br /></p><p><br />It's pretty simple but let's break this down<br /><br />connType="Oracle"  -  If you connected to one of the other databases supported this element of the tree would not show.<br /><br />id="TABLE"                -  This will key all the editors for table to be used when clicked on.  Also things like Edit/Create dialogs and context menus weight="0.0"              -  This is the sorting order.  To make my new node show first , I made it 0.0.<br /></p><p><br />The next 2 tags are fairly obvious<br /><br />&lt;icon RSKEY="/oracle/dbtools/raptor/images/table_folder.png"/&gt;  - This is where to get the icon to show for the folder in the tree.<br /><br />&lt;label RSKEY="Custom Tables"/&gt; - This is the name which will show in the tree.<br /></p><p><br />Second the file to be edited is the <a href="http://esdev.svn.sourceforge.net/viewvc/esdev/trunk/org.esdev/skeleton/etc/extension.xml?annotate=24">extension.xml</a>.  The change should be pretty easy to pick out from the diff.  What this is doing is registering the new table.xml file so that Sql Dev will load it.  In this case it's inside the package sample.<br /></p><p><br />&lt;sqldev-navigator-hook xmlns="http://xmlns.oracle.com/sqldeveloper/sqldev-navigator"&gt;<br /><br />&lt;descriptor&gt;/sample/table.xml&lt;/descriptor&gt;<br /><br />&lt;/sqldev-navigator-hook&gt;<br /></p><p><br />Here's the results:<br /></p><p><br /><a href="http://4.bp.blogspot.com/_HTPuwjEAZfk/RYnSyVGngxI/AAAAAAAAAAM/sy0uL3Swkos/s1600-h/custom_table_collapse.png"><img style="cursor:pointer; cursor:hand;" src="http://4.bp.blogspot.com/_HTPuwjEAZfk/RYnSyVGngxI/AAAAAAAAAAM/sy0uL3Swkos/s320/custom_table_collapse.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5010767822526579474" /></a><br /></p><p><br />and expanded:<br /></p><p><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_HTPuwjEAZfk/RYwf0lGngzI/AAAAAAAAAAc/IJjhVqugvaA/s1600-h/custom_table.png"><img style="cursor:pointer; cursor:hand;" src="http://4.bp.blogspot.com/_HTPuwjEAZfk/RYwf0lGngzI/AAAAAAAAAAc/IJjhVqugvaA/s320/custom_table.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5011415473530045234" /></a><br /></p><p><br />This should allow anyone to make an extension would could have custom queries for the same base objects we have exposed in Sql Dev.  This along with the other posts on this blog now show <br /><br />1) how to add to the tree<br /><br />2) how to add <a href="http://krisrice.blogspot.com/2006/05/forgotten-tabs-part-2.html">editors</a> to what is clicked in the tree<br /><br />3) how to add <a href="http://krisrice.blogspot.com/2006/11/xml-extension-points-context-menus.html">context</a> menus  to the nodes in the tree<br /></p><p><br />There's a lot more that can be done in the navigator and we'll go into it in more detail later like how to add children , filter , ....<br /></p>