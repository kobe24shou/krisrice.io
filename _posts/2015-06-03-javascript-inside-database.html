---
layout: post
title: Javascript Inside the Database
date: '2015-06-03T13:13:00.003-07:00'
author: Kris Rice
tags: 
modified_time: '2015-06-03T13:15:42.853-07:00'
thumbnail: http://4.bp.blogspot.com/-8Qt9K4uzfoc/VW9fJ-DOYeI/AAAAAAAABAE/olAgwhu14aw/s72-c/Screen%2BShot%2B2015-06-03%2Bat%2B16.08.05.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-5862718700538334927
blogger_orig_url: http://krisrice.blogspot.com/2015/06/javascript-inside-database.html
---

<br />Where there's a will, there's a way.  Not sure on the best use of this off hand but here it is.  <br /><br />Javascript inside an Oracle Database.<br /><br />Since Javascript is included in java via the ScriptEngine framework. It's fairly easy to add a java wrapper to call the javascript engine.<br /><pre class="brush: js;">create or replace and compile java source named "EvalScript" as<br />import javax.script.*;<br />public class EvalScript {<br />    public static String eval(String argument) throws Exception {<br />        // create a script engine manager<br />        ScriptEngineManager factory = new ScriptEngineManager();<br />        // create a JavaScript engine<br />        ScriptEngine engine = factory.getEngineByName("javascript");<br /><br />        // set the param into the javascript context<br />        engine.put("s", argument);<br /><br />        // evaluate JavaScript code from String<br />        return  engine.eval("var a='hi';  a + ', ' + s;").toString();<br />        //return "a";<br />    }<br />}<br />/<br /></pre><br />Then the standard plsql wrapper to call a java stored procedure.<br /><pre class="brush: sql;">create or replace function eval (argument in varchar2)<br /> return varchar2  as language java<br />name 'EvalScript.eval(java.lang.String) return java.lang.String';<br /></pre><br /><br />Now you can simply call that function and the return is from javascript OR make a REST call via ORDS.<br /><br />This is a simple REST call that takes in {name} and passes it to the function just created.<br /><br /><br /><br /><div class="separator" style="clear: both; text-align: left;"><a href="http://4.bp.blogspot.com/-8Qt9K4uzfoc/VW9fJ-DOYeI/AAAAAAAABAE/olAgwhu14aw/s1600/Screen%2BShot%2B2015-06-03%2Bat%2B16.08.05.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-8Qt9K4uzfoc/VW9fJ-DOYeI/AAAAAAAABAE/olAgwhu14aw/s1600/Screen%2BShot%2B2015-06-03%2Bat%2B16.08.05.png" /></a></div><br /><br /><br />Then pass in the value to be passed in to the javascript engine and you now have ORDS + DB + Server Side javascript.<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-N1PZfy-wAkE/VW9fwaVaIDI/AAAAAAAABAU/4btiC9HhUSg/s1600/Screen%2BShot%2B2015-06-03%2Bat%2B16.11.24.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-N1PZfy-wAkE/VW9fwaVaIDI/AAAAAAAABAU/4btiC9HhUSg/s1600/Screen%2BShot%2B2015-06-03%2Bat%2B16.11.24.png" /></a></div><br /><br />