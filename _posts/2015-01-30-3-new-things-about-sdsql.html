---
layout: post
title: 3 new things about sdsql
date: '2015-01-30T10:19:00.000-08:00'
author: Kris Rice
tags:
- sqlcl
modified_time: '2016-06-10T13:03:58.807-07:00'
thumbnail: http://4.bp.blogspot.com/-kaKFj1TEuO4/VMvLAsBDNgI/AAAAAAAAA6c/BcmWHC-ipuw/s72-c/groot_previewtemplate_69e12f49-bab3-4979-89f0-c24f8b8d0ccd_display.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-2683124442106197700
blogger_orig_url: http://krisrice.blogspot.com/2015/01/3-new-things-about-sdsql.html
---

<div class="separator" style="clear: both; text-align: center;"></div><br /><h4>New Name !<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-kaKFj1TEuO4/VMvLAsBDNgI/AAAAAAAAA6c/BcmWHC-ipuw/s1600/groot_previewtemplate_69e12f49-bab3-4979-89f0-c24f8b8d0ccd_display.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-kaKFj1TEuO4/VMvLAsBDNgI/AAAAAAAAA6c/BcmWHC-ipuw/s1600/groot_previewtemplate_69e12f49-bab3-4979-89f0-c24f8b8d0ccd_display.png" height="320" width="320" /></a></div></h4><br />The first is a new name this EA it's named sqlcl for sql command line. &nbsp;However, the binary to start it up is simply sql. &nbsp;Nothing is easier when you need to run some sql than typing 'sql' and hitting enter.<br /><span id="goog_460874098"></span><br /><br /><pre class="brush: sql">#./sql klrice/klrice@//localhost/orcl<br /><br />SQLcl: Release 4.1.0 Beta on Fri Jan 30 12:53:05 2015<br /><br />Copyright (c) 1982, 2015, Oracle.  All rights reserved.<br /><br /><br />Connected to:<br />Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production <br /><br /></pre><br /><h4>There's never too much Information<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-yT9meuNIU8s/VMvKAoGDBTI/AAAAAAAAA6M/rJK0pn22OT8/s1600/4619.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://1.bp.blogspot.com/-yT9meuNIU8s/VMvKAoGDBTI/AAAAAAAAA6M/rJK0pn22OT8/s1600/4619.jpg" height="320" width="240" /></a></div></h4><br />The next is a new information command has a lot more in it now. &nbsp;Hit me up on twitter if you can think of more things it should show some of the things here are directly from folks doing exactly that. Sometimes functional specs can be done in 140 chars.<br /><br /><br /><br /><pre class="brush: sql">KLRICE@ORCL&gt;<br />KLRICE@ORCL&gt;info hr.employees<br />TABLE: EMPLOYEES <br />  LAST ANALYZED:2015-01-17 12:06:26.0 <br />  ROWS         :107 <br />  SAMPLE SIZE  :107 <br />  INMEMORY     :DISABLED <br />  COMMENTS     :employees table. Contains 107 rows. References with departments,<br />                       jobs, job_history tables. Contains a self reference. <br /><br />Columns <br />NAME             DATA TYPE           NULL  DEFAULT    COMMENTS<br />*EMPLOYEE_ID     NUMBER(6,0)         No               Primary key of employees table.<br /> FIRST_NAME      VARCHAR2(20 BYTE)   Yes              First name of the employee. A not null column.<br /> LAST_NAME       VARCHAR2(25 BYTE)   No               Last name of the employee. A not null column.<br /> EMAIL           VARCHAR2(25 BYTE)   No               Email id of the employee<br /> PHONE_NUMBER    VARCHAR2(20 BYTE)   Yes              Phone number of the employee; includes country code and area code<br /> HIRE_DATE       DATE                No               Date when the employee started on this job. A not null column.<br /> JOB_ID          VARCHAR2(10 BYTE)   No               Current job of the employee; foreign key to job_id column of the<br />                                                      jobs table. A not null column.<br /> SALARY          NUMBER(8,2)         Yes              Monthly salary of the employee. Must be greater<br />                                                      than zero (enforced by constraint emp_salary_min)<br /> COMMISSION_PCT  NUMBER(2,2)         Yes              Commission percentage of the employee; Only employees in sales<br />                                                      department elgible for commission percentage<br /> MANAGER_ID      NUMBER(6,0)         Yes              Manager id of the employee; has same domain as manager_id in<br />                                                      departments table. Foreign key to employee_id column of employees table.<br />                                                      (useful for reflexive joins and CONNECT BY query)<br /> DEPARTMENT_ID   NUMBER(4,0)         Yes              Department id where employee works; foreign key to department_id<br />                                                      column of the departments table<br /><br />Indexes<br />INDEX_NAME            UNIQUENESS  STATUS  FUNCIDX_STATUS  COLUMNS                COLUMN_EXPRESSION  <br />HR.EMP_JOB_IX         NONUNIQUE   VALID                   JOB_ID                                    <br />HR.EMP_NAME_IX        NONUNIQUE   VALID                   LAST_NAME, FIRST_NAME                     <br />HR.EMP_EMAIL_UK       UNIQUE      VALID                   EMAIL                                     <br />HR.EMP_EMP_ID_PK      UNIQUE      VALID                   EMPLOYEE_ID                               <br />HR.EMP_MANAGER_IX     NONUNIQUE   VALID                   MANAGER_ID                                <br />HR.EMP_DEPARTMENT_IX  NONUNIQUE   VALID                   DEPARTMENT_ID                             <br /><br /><br />References<br />TABLE_NAME   CONSTRAINT_NAME  DELETE_RULE  STATUS   DEFERRABLE      VALIDATED  GENERATED  <br />DEPARTMENTS  DEPT_MGR_FK      NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br />EMPLOYEES    EMP_MANAGER_FK   NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br />JOB_HISTORY  JHIST_EMP_FK     NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br /><br />KLRICE@ORCL&gt;<br /><br /></pre><br /><br /><br />Info doesn't end there, you can do info+ and get different data and I'm in the process of changing the indexes to show some stats also like the main table.<br /><br /><pre class="brush:sql">KLRICE@ORCL&gt;info+ hr.employees<br />TABLE: EMPLOYEES <br />  LAST ANALYZED:2015-01-17 12:06:26.0 <br />  ROWS         :107 <br />  SAMPLE SIZE  :107 <br />  INMEMORY     :DISABLED <br />  COMMENTS     :employees table. Contains 107 rows. References with departments,<br />                       jobs, job_history tables. Contains a self reference. <br /><br />Columns <br />NAME             DATA TYPE           NULL  DEFAULT    LOW_VALUE             HIGH_VALUE            NUM_DISTINCT   HISTOGRAM  <br />*EMPLOYEE_ID     NUMBER(6,0)         No               100                   206                   107            NONE       <br /> FIRST_NAME      VARCHAR2(20 BYTE)   Yes              Adam                  Winston               91             NONE       <br /> LAST_NAME       VARCHAR2(25 BYTE)   No               Abel                  Zlotkey               102            NONE       <br /> EMAIL           VARCHAR2(25 BYTE)   No               ABANDA                WTAYLOR               107            NONE       <br /> PHONE_NUMBER    VARCHAR2(20 BYTE)   Yes              011.44.1343.329268    650.509.4876          107            NONE       <br /> HIRE_DATE       DATE                No               1987.06.17.00.00.00   2000.04.21.00.00.00   98             NONE       <br /> JOB_ID          VARCHAR2(10 BYTE)   No               AC_ACCOUNT            ST_MAN                19             NONE       <br /> SALARY          NUMBER(8,2)         Yes              2100                  24000                 57             NONE       <br /> COMMISSION_PCT  NUMBER(2,2)         Yes              .1                    .4                    7              NONE       <br /> MANAGER_ID      NUMBER(6,0)         Yes              100                   205                   18             NONE       <br /> DEPARTMENT_ID   NUMBER(4,0)         Yes              10                    110                   11             NONE       <br /><br />Indexes<br />INDEX_NAME            UNIQUENESS  STATUS  FUNCIDX_STATUS  COLUMNS                COLUMN_EXPRESSION  <br />HR.EMP_JOB_IX         NONUNIQUE   VALID                   JOB_ID                                    <br />HR.EMP_NAME_IX        NONUNIQUE   VALID                   LAST_NAME, FIRST_NAME                     <br />HR.EMP_EMAIL_UK       UNIQUE      VALID                   EMAIL                                     <br />HR.EMP_EMP_ID_PK      UNIQUE      VALID                   EMPLOYEE_ID                               <br />HR.EMP_MANAGER_IX     NONUNIQUE   VALID                   MANAGER_ID                                <br />HR.EMP_DEPARTMENT_IX  NONUNIQUE   VALID                   DEPARTMENT_ID                             <br /><br /><br />References<br />TABLE_NAME   CONSTRAINT_NAME  DELETE_RULE  STATUS   DEFERRABLE      VALIDATED  GENERATED  <br />DEPARTMENTS  DEPT_MGR_FK      NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br />EMPLOYEES    EMP_MANAGER_FK   NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br />JOB_HISTORY  JHIST_EMP_FK     NO ACTION    ENABLED  NOT DEFERRABLE  VALIDATED  USER NAME  <br /><br />KLRICE@ORCL&gt;<br /><br /></pre><br /><h4>Those who don't know history are doomed to repeat.<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-ixMY0PzWYB8/VMvKkUEOhlI/AAAAAAAAA6U/xhvkkuNvyRg/s1600/TRS-80_Model_3_01.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://2.bp.blogspot.com/-ixMY0PzWYB8/VMvKkUEOhlI/AAAAAAAAA6U/xhvkkuNvyRg/s1600/TRS-80_Model_3_01.jpg" height="320" width="320" /></a></div></h4><br />The last thing to be sure to take a look at is the history. History by itself is great however we wanted to show how often the history is uses so there's now "history usage" which will show how many times that history item has been run. &nbsp;The other thing new here is that instead of timing statements only when user request it, we now time and record that time for everything. &nbsp;You can access is very simply with "history time" that will show the timings of how long the things in the history took. &nbsp;The format of the time is HH:MI:SS.fff and we shorten the leading numbers when zero to be able to read and format it easier.<br /><br /><br /><br /><br /><br /><br /><pre class="brush:sql">KLRICE@ORCL&gt;history time<br />....<br /> 20           info s<br /> 21  (00.050) select table_name from user_tables<br /> 22           info+ s<br /> 23           info hr.dept<br /> 24           into scott.emp<br /> 25           info scott.emp<br /> 26           info+ scott.emp<br /> 27           info all_tables<br /> 28           info all_tab_comments<br /> 29  (04.531) select * from all_tables t,all_tab_comments tc where t.owner = tc.owner and t.table_name = tc.table_name<br /> 30  (00.420) select * from all_tables t,all_tab_comments tc  where t.owner = tc.owner (+) and t.table_name = tc.table_name(+) <div class="separator" style="clear: both; text-align: center;"></div></pre><br /><br /><br />While this is 3 really quick things, there's a lot more in there with this new EA.  We will blog the other new things more in the coming days.<br /><br />