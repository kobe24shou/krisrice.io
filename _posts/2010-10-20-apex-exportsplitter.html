---
layout: post
title: Apex Listener EA and more
date: '2010-10-20T10:48:00.000-07:00'
author: Kris Rice
tags: 
modified_time: '2010-10-20T12:08:25.815-07:00'
blogger_id: tag:blogger.com,1999:blog-37621059.post-6870286441818729794
blogger_orig_url: http://krisrice.blogspot.com/2010/10/apex-exportsplitter.html
---

In case anyone missed it, the new <a href="http://www.oracle.com/technetwork/developer-tools/apex-listener/overview/index.html">APEX Listener 1.1 EA</a> is out. &nbsp;The big new feature in there is the Resource Templates. &nbsp;If you are interested in this feature and have not found it yet, you should really start following Colm's <a href="http://cdivilly.wordpress.com/">blog</a>. &nbsp;You can learn about it from Colm:&nbsp;<a href="http://cdivilly.wordpress.com/2010/10/18/apex-listener-resource-templates/">here</a> and my post last week:&nbsp;<a href="http://krisrice.blogspot.com/2010/10/restjson-access-to-your-data-in-2.html">here</a>. &nbsp;It will let you get data out via REST with less development than ever before. &nbsp;The <a href="http://www.oracle.com/technetwork/developer-tools/apex-listener/documentation/apexlistenerdevguide1-1ea-177511.pdf">Developer's Guide</a>&nbsp;goes into all the details of this new set of features. <br /><br />Another thing in this EA is that the APEX Export and Splitter have been combined in the apex.jar which is included. &nbsp;Once the apex.war is deployed the apex.jar is expanded out however if you want to use just this issue this to pull it out. &nbsp;I'll clean this step up in upcoming releases but for now here's how to test it out.<br /><br /><pre class="brush: bash">jar xvf  apex.war WEB-INF/lib/apex.jar<br /></pre><br />Then you just issue the commands as normal. &nbsp;The new part is that they are joined and in one command line you can export and split.<br /><br /><br /><pre class="brush:bash">$&gt; java -cp apex.jar:/path/to/ojdbc6.jar  oracle.dbtools.apex.utilities.APEXExport<br /><br />Usage APEXExport -db  -user  -password  -applicationid  -workspaceid -instance -skipExportDate -expSavedReports -debug  <br /> -db               : Database connect url in JDBC format <br />-user             : Database username<br />-password         : Database password<br />-useAliasFileName : use alias.sql instead of f12345.sql<br />-application      : ID or name for application to be exported<br />-workspace        : Workspace ID or Name for which all applications to be exported<br />-outDir           : Directory to export to        <br />-instance         : Export all applications<br />-skipExportDate   : Exclude export date from application export files<br />-expSavedReports  : Export all user saved interactive reports<br />-split            : Split the export files<br />-flat             : Split into a Flat file structure<br />-update           : &lt; create update file &gt;<br />-nochecksum       : &lt; don't check for changes &gt;<br /><br />Application Example: <br />   APEXExport -db candy.us.oracle.com:1521:ORCL -user scott -password tiger -application 31500 <br />Workspace  Example: <br />   APEXExport -db candy.us.oracle.com:1521:ORCL -user scott -password tiger -workspace 9999 <br />Instance Example:<br />   APEXExport -db candy.us.oracle.com:1521:ORCL -user flows_020200 -password apex -instance <br /></pre><br />The other things new here are from a request from <a href="http://jes.blogs.shellprompt.net/">John Scott</a>. There's a flag to name the files based on the alias instead of just the id. The application name or workspace name can be passed instead of the id. <br /><br />The splitter has a few options:<br /><br />-split<br />This is the main switch to turn on the splitting<br /><br />-flat<br />Instead of directories it will use a single directory to put all the split up files.<br /><br />-update<br />This will create an update.sql based on what changed from the last split that was done. It uses a checksum on the new and old to determine if there was a change in that section<br /><br />-nochecksum<br />If you split f100.sql, you get all the split files. Normally, it will checksum that if page1.sql didn't change it will not update the timestamp on the file. If you turn checksum off it will always update the timestamp. The checksumming to update the timestamp is nice for things like checking into version control. Only the page/item/tab/.. sql scripts that changed will changed so you can see quickly what has and has not changed.