---
layout: post
title: ORDS 3.0.7 more secure by default
date: '2016-09-28T08:50:00.002-07:00'
author: Kris Rice
tags: 
modified_time: '2016-09-28T08:50:31.847-07:00'
thumbnail: https://4.bp.blogspot.com/-2KHVuM54DTM/V-vlWpsIqII/AAAAAAAABMY/YgO3AprueKkrsQo2CnV_LEB2tF3VRZ-NgCK4B/s72-c/Screen%2BShot%2B2016-09-28%2Bat%2B11.44.13.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-5338833537251758239
blogger_orig_url: http://krisrice.blogspot.com/2016/09/ords-307-more-secure-by-default.html
---

<h2>Defaulting &nbsp;PL/SQL Gateway Security</h2><br />Oracle REST Data Services 3.0.7 went out yesterday. &nbsp;There's an important change that went in to better secure installations by default. &nbsp;It has always been the case that we recommend customers set the validations for the plsql gateway. &nbsp;There has always been a validation configuration option to lock down what procedures are accessible which was outlined in this blog post&nbsp;<a href="http://krisrice.blogspot.com/2013/01/apex-listener-plsql-validations.html">http://krisrice.blogspot.com/2013/01/apex-listener-plsql-validations.html</a><br /><br /><br />The change is that starting in this patch when the plsql gateway is enabled AND the db username is APEX_PUBLIC_USER, ORDS setup will add in the configurations setting &nbsp;<code style="-webkit-font-smoothing: antialiased; color: #666666; font-family: courier, &quot;courier new&quot;, monaco; font-size: 12px; list-style: none; margin: 0px; padding: 0px;">security.requestValidationFunction</code><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px;">&nbsp;&nbsp;</span>to be set to the apex security procedure &nbsp;<span style="background-color: white; color: #666666; font-family: courier, &quot;courier new&quot;, monaco; font-size: 12px;">WWV_FLOW_EPG_INCLUDE_MODULES.AUTHORIZE</span><br /><br /><a href="http://4.bp.blogspot.com/-2KHVuM54DTM/V-vlWpsIqII/AAAAAAAABMY/YgO3AprueKkrsQo2CnV_LEB2tF3VRZ-NgCK4B/s1600/Screen%2BShot%2B2016-09-28%2Bat%2B11.44.13.png" imageanchor="1"><img border="0" src="https://4.bp.blogspot.com/-2KHVuM54DTM/V-vlWpsIqII/AAAAAAAABMY/YgO3AprueKkrsQo2CnV_LEB2tF3VRZ-NgCK4B/s1600/Screen%2BShot%2B2016-09-28%2Bat%2B11.44.13.png" /></a><br /><h2><br /></h2><h2>Customized PL/SQL Gateway Security</h2>This is just a defaulted settings so if you have a custom procedure just edit the file as normal. Alsoin the blog post that describes how this works there are new features over this basic procedure approach such as binding values like flow_id ( app id ), flow_setup_id ( page id ). &nbsp;The uses of this are you could have one install of ORDS that is external facing and expose only one set of applications based on the APEX application ID. Then an internal ORDS setup that doesn't limit at all to have intranet applications all hosted out of one production database.<br /><br />There's also the ability to use javascript for securing the PL/SQL gateway which has been around since version 2.0. &nbsp;The main benefit with this approach is there doesn't have to be a trip to the database to exec a plsql procedure. &nbsp;That means ORDS can stop a request before the database is ever called in any capacity. &nbsp;The variables available for this are outlined in this blog post:&nbsp;<a href="http://krisrice.blogspot.com/2012/12/apex-listener-20.html">http://krisrice.blogspot.com/2012/12/apex-listener-20.html</a><br /><br /><a href="http://3.bp.blogspot.com/-R8zkCgtKVgc/V-vmSBZZFCI/AAAAAAAABMk/1y0vhchaRxMtIZ2I9BWSP6I3qJ3eNiXlACK4B/s1600/Screen%2BShot%2B2012-12-19%2Bat%2B3.11.17%2BPM.png" imageanchor="1"><img border="0" height="433" src="https://3.bp.blogspot.com/-R8zkCgtKVgc/V-vmSBZZFCI/AAAAAAAABMk/1y0vhchaRxMtIZ2I9BWSP6I3qJ3eNiXlACK4B/s640/Screen%2BShot%2B2012-12-19%2Bat%2B3.11.17%2BPM.png" width="640" /></a><br /><br /><h2>Here's the note in the README</h2><br /><h2 style="-webkit-font-smoothing: antialiased; background-attachment: initial !important; background-clip: initial !important; background-color: white; background-image: initial !important; background-origin: initial !important; background-position: initial !important; background-repeat: initial !important; background-size: initial !important; font-family: arial, helvetica, sans-serif; font-size: 12px; list-style: none; margin: 0px; padding: 2px 0px 0px;">Important Changes to Note</h2><h3 style="-webkit-font-smoothing: antialiased; background-attachment: initial !important; background-clip: initial !important; background-color: white; background-image: initial !important; background-origin: initial !important; background-position: initial !important; background-repeat: initial !important; background-size: initial !important; font-family: arial, helvetica, sans-serif; font-size: 14px; list-style: none; margin: 0px; padding: 0px;">APEX_PUBLIC_USER &amp; wwv_flow_epg_include_modules.authorize</h3><div style="-webkit-font-smoothing: antialiased; background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 16px; list-style: none; margin-bottom: 17px; padding: 0px;">In line with security best practice and as recommended by the&nbsp;<a href="http://docs.oracle.com/cd/E59726_01/doc.50/e39147/sec_admin_ssl.htm#HTMDB30033" style="-webkit-font-smoothing: antialiased; color: #1f4f82; list-style: none; margin: 0px; padding: 0px; text-decoration: none;">Oracle Application Express Documentation</a>&nbsp;when a database pool is configured to use the&nbsp;<code style="-webkit-font-smoothing: antialiased; color: #666666; font-family: courier, &quot;courier new&quot;, monaco; list-style: none; margin: 0px; padding: 0px;">APEX_PUBLIC_USER</code>, Oracle REST Data Services will automatically set the value of the<code style="-webkit-font-smoothing: antialiased; color: #666666; font-family: courier, &quot;courier new&quot;, monaco; list-style: none; margin: 0px; padding: 0px;">security.requestValidationFunction</code>&nbsp;setting to be:</div><pre style="-webkit-font-smoothing: antialiased; background-color: white; font-size: 12px; list-style: none; padding: 0px;">    <code style="-webkit-font-smoothing: antialiased; color: #666666; font-family: courier, &quot;courier new&quot;, monaco; list-style: none; margin: 0px; padding: 0px;">WWV_FLOW_EPG_INCLUDE_MODULES.AUTHORIZE</code><br />  </pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px;">This activates the white list of callable procedures which ships with Oracle Application Express and&nbsp;</span><em style="-webkit-font-smoothing: antialiased; background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px; list-style: none; margin: 0px; padding: 0px;">prohibits calls to other procedures</em><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px;">. Please consult the&nbsp;</span><a href="http://docs.oracle.com/cd/E59726_01/doc.50/e39147/sec_admin_ssl.htm#HTMDB30033" style="-webkit-font-smoothing: antialiased; background-color: white; color: #1f4f82; font-family: Arial, Helvetica, sans-serif; font-size: 12px; list-style: none; margin: 0px; padding: 0px; text-decoration: none;">Oracle Application Express Documentation</a><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px;">&nbsp;for more information about this procedure and how to customize it's behaviour.</span><br /><div style="-webkit-font-smoothing: antialiased; background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 16px; list-style: none; margin-bottom: 17px; padding: 0px;"><br /></div>