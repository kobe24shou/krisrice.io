---
layout: post
title: Add the ability to make a connection read only
date: '2007-03-02T15:26:00.001-08:00'
author: Kris Rice
tags: 
modified_time: '2008-12-08T13:13:23.166-08:00'
thumbnail: http://1.bp.blogspot.com/_HTPuwjEAZfk/ReiuNRqNVaI/AAAAAAAAAA4/iyflmD98T4Y/s72-c/ro_rw_pref.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-8493170451015444418
blogger_orig_url: http://krisrice.blogspot.com/2007/03/add-ability-to-make-connection-read.html
---

To show how simple it is to add functionality to the context menus in sqldeveloper <strong>without</strong> writing any <strong>java</strong> like I posted <a href="http://krisrice.blogspot.com/2006/11/xml-extension-points-context-menus.html">before</a> about.  I'll take a case which was on the forums today about how to make a connection read only.  As most people probably know there's a set transaction read only; command which can be issued which prevents the session from issuing updates.  To make it easy to toggle this in sqldeveloper, here's what I did:<br /><br />The format of the xml is the same as the post before. Save this xml to a file:<br /><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;items xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />xsi:noNamespaceSchemaLocation="dialogs.xsd"&gt;<br />   &lt;item type="CONNECTION" reload="true"&gt;      <br />     &lt;title&gt;Set RO&lt;/title&gt;     <br />     &lt;prompt type="confirm"&gt;<br />        &lt;label&gt;Confirm Setting Connection to Read Only.&lt;/label&gt;<br />     &lt;/prompt&gt;<br />     &lt;sql&gt;<br />        &lt;![CDATA[begin dbms_transaction.read_only; end;]]&gt;<br />     &lt;/sql&gt;&lt;help&gt;Issues dbms_transaction.read_only; &lt;/help&gt;      <br />     &lt;confirmation&gt;<br />     &gt;&lt;title&gt;Confirmation&lt;/title&gt;<br />        &lt;prompt&gt;Success&lt;/prompt&gt;<br />     &lt;/confirmation&gt;<br />   &lt;/item&gt;<br />   &lt;item type="CONNECTION" reload="true"&gt;<br />     &lt;title&gt;Set RW&lt;/title&gt;<br />     &lt;prompt type="confirm"&gt;<br />        &lt;label&gt;Confirm Setting Connection to Read Write.&lt;/label&gt;<br />     &lt;/prompt&gt;<br />     &lt;sql&gt;<br />       &lt;![CDATA[begin dbms_transaction.read_write; end;]]&gt;<br />     &lt;/sql&gt;<br />     &lt;help&gt;Issues dbms_transaction.read_write; &lt;/help&gt;<br />     &lt;confirmation&gt;<br />       &lt;title&gt;Confirmation&lt;/title&gt;<br />       &lt;prompt&gt;Success&lt;/prompt&gt;<br />     &lt;/confirmation&gt;<br />  &lt;/item&gt;<br />&lt;/items&gt;<br /><br /><br /></pre>Now go into the Preferences-&gt;User Defined Extensions.  Prior to 1.1, this would have needed some java coding but now it's very easy to load this xml file.  While this shows the file on the file system, it could just as easily use referenced a URL such as http://myhost.mycompany.com/some/path/to/somewhere/ro.xml<br /><a href="http://1.bp.blogspot.com/_HTPuwjEAZfk/ReiuNRqNVaI/AAAAAAAAAA4/iyflmD98T4Y/s1600-h/ro_rw_pref.png"><img style="cursor: pointer;" src="http://1.bp.blogspot.com/_HTPuwjEAZfk/ReiuNRqNVaI/AAAAAAAAAA4/iyflmD98T4Y/s320/ro_rw_pref.png" alt="" id="BLOGGER_PHOTO_ID_5037467726315869602" border="0" /></a><br />Now when after I restart the tool, I'll see the menu option and here's what happens when I try to update the data in a table:<br /><a href="http://3.bp.blogspot.com/_HTPuwjEAZfk/ReiwqxqNVcI/AAAAAAAAABI/9Qxv7Xmzo3A/s1600-h/ro.png"><img style="cursor:pointer; cursor:hand;" src="http://3.bp.blogspot.com/_HTPuwjEAZfk/ReiwqxqNVcI/AAAAAAAAABI/9Qxv7Xmzo3A/s320/ro.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5037470432145266114" /></a><br /><br />Then If I want to edit again, I choose the other menu which sets things back to read write.<br /><a href="http://3.bp.blogspot.com/_HTPuwjEAZfk/ReiwQxqNVbI/AAAAAAAAABA/77-CEPumy3w/s1600-h/rw.png"><img style="cursor:pointer; cursor:hand;" src="http://3.bp.blogspot.com/_HTPuwjEAZfk/ReiwQxqNVbI/AAAAAAAAABA/77-CEPumy3w/s320/rw.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5037469985468667314" /></a><br />