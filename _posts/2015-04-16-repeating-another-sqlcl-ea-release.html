---
layout: post
title: Repeating another SQLCL EA release
date: '2015-04-16T12:17:00.005-07:00'
author: Kris Rice
tags:
- sqlcl
modified_time: '2016-06-10T13:03:58.840-07:00'
thumbnail: http://2.bp.blogspot.com/-msmpvUQP50E/VTAHVWDLsgI/AAAAAAAAA7Y/F9Fo5VKfMXM/s72-c/Screen%2BShot%2B2015-04-16%2Bat%2B15.02.20.png
blogger_id: tag:blogger.com,1999:blog-37621059.post-554272505957949325
blogger_orig_url: http://krisrice.blogspot.com/2015/04/repeating-another-sqlcl-ea-release.html
---

<div class="separator" style="clear: both; text-align: left;">&nbsp; &nbsp; It's been a month and a lot of bugs have been fixed in that time and new features added. That adds up to time for another EA for our new sqlcl. &nbsp;The third sqlcl EA is out now and can be found <a href="http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/sqldev-41ea-2372780.html">here</a> on the SQL Developer 4.1 download page. &nbsp;</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">&nbsp; Not sure what this sqlcl thing is ? Check<a href="http://krisrice.blogspot.com/2014/12/what-is-sdsql.html"> here</a>.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><br /></div><h4 style="clear: both; text-align: left;">LOAD: &nbsp;Making CSV loading to the db very easy</h4><div>Here's a very quick example of the possibilities. &nbsp;Here&nbsp;</div><br /><pre class="brush: sql">-- drop it to be sure<br />drop table emp2;<br /><br />-- create an empty table<br />create table emp2 as select * from emp where rownum=0;<br /><br />-- don't need to see it<br />set term off<br />-- set the format to CSV<br />set sqlformat csv<br />-- spool<br />spool emp.csv<br />-- spooling....<br />select * from emp;<br />-- spooled<br />spool off<br /><br />-- need to see again<br />set term on<br />-- load into the new table<br />load EMP2 emp.csv<br /><br /></pre><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-msmpvUQP50E/VTAHVWDLsgI/AAAAAAAAA7Y/F9Fo5VKfMXM/s1600/Screen%2BShot%2B2015-04-16%2Bat%2B15.02.20.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-msmpvUQP50E/VTAHVWDLsgI/AAAAAAAAA7Y/F9Fo5VKfMXM/s1600/Screen%2BShot%2B2015-04-16%2Bat%2B15.02.20.png" /></a></div>The output from running the script makes it very easy to see what happened.<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><br /></div><h4 style="text-align: left;">REPEAT : Build your own monitor</h4><div style="text-align: left;">This is another very simple yet useful command. &nbsp;The idea is to basically build your own sql that your may want to run to see what's going on. &nbsp;This example is a simple select against v$session with a decode on the command to see what the sessions are doing. &nbsp;Running this is easy, running it again and again mean hitting / and return a lot.<br /><br />Enter the repeat. &nbsp;Just specify how many times and what the sleep interval is and sqlcl takes care of running it.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-cvKEZKnBF0Y/VTAKGETvEaI/AAAAAAAAA7s/ym1Ycvl9imQ/s1600/Screen%2BShot%2B2015-04-16%2Bat%2B15.14.14.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-cvKEZKnBF0Y/VTAKGETvEaI/AAAAAAAAA7s/ym1Ycvl9imQ/s1600/Screen%2BShot%2B2015-04-16%2Bat%2B15.14.14.png" /></a></div><br /></div><div style="text-align: left;"><br />In the header, there's a status to who what iteration it is what the time is ( and yes I know a bug in the number format ) and what the delay is to running it again.<br /><br /></div><div style="text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-5d-YGdXW8QQ/VTAJZUiCYYI/AAAAAAAAA7k/77jD9-lrCG0/s1600/repeat.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-5d-YGdXW8QQ/VTAJZUiCYYI/AAAAAAAAA7k/77jD9-lrCG0/s1600/repeat.gif" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div style="text-align: left;"><br /></div><h4>The Report being used</h4>The SQL I'm using here is the same sql in the SQL Developer Sessions report. &nbsp;It can be found off the Tools-&gt;Sessions menu. &nbsp;Additionally in the Reports section under DBA reports.<br /><br /><br /><br /><pre class="brush: sql">select vs.sid ,serial# serial, vs.sql_id,<br />       vs.username "Username",<br />       case when vs.status = 'ACTIVE' then last_call_et else null end "Seconds in Wait",<br />       decode(vs.command,  <br />                         0,null, <br />                         1,'CRE TAB', <br />                         2,'INSERT', <br />                         3,'SELECT', <br />                         4,'CRE CLUSTER', <br />                         5,'ALT CLUSTER', <br />                         6,'UPDATE', <br />                         7,'DELETE', <br />                         8,'DRP CLUSTER', <br />                         9,'CRE INDEX', <br />                         10,'DROP INDEX', <br />                         11,'ALT INDEX', <br />                         12,'DROP TABLE', <br />                         13,'CRE SEQ', <br />                         14,'ALT SEQ', <br />                         15,'ALT TABLE', <br />                         16,'DROP SEQ', <br />                         17,'GRANT', <br />                         18,'REVOKE', <br />                         19,'CRE SYN', <br />                         20,'DROP SYN', <br />                         21,'CRE VIEW', <br />                         22,'DROP VIEW', <br />                         23,'VAL INDEX', <br />                         24,'CRE PROC', <br />                         25,'ALT PROC', <br />                         26,'LOCK TABLE', <br />                         28,'RENAME', <br />                         29,'COMMENT', <br />                         30,'AUDIT', <br />                         31,'NOAUDIT', <br />                         32,'CRE DBLINK', <br />                         33,'DROP DBLINK', <br />                         34,'CRE DB', <br />                         35,'ALTER DB', <br />                         36,'CRE RBS', <br />                         37,'ALT RBS', <br />                         38,'DROP RBS', <br />                         39,'CRE TBLSPC', <br />                         40,'ALT TBLSPC', <br />                         41,'DROP TBLSPC', <br />                         42,'ALT SESSION', <br />                         43,'ALT USER', <br />                         44,'COMMIT', <br />                         45,'ROLLBACK', <br />                         46,'SAVEPOINT', <br />                         47,'PL/SQL EXEC', <br />                         48,'SET XACTN', <br />                         49,'SWITCH LOG', <br />                         50,'EXPLAIN', <br />                         51,'CRE USER', <br />                         52,'CRE ROLE', <br />                         53,'DROP USER', <br />                         54,'DROP ROLE', <br />                         55,'SET ROLE', <br />                         56,'CRE SCHEMA', <br />                         57,'CRE CTLFILE', <br />                         58,'ALTER TRACING', <br />                         59,'CRE TRIGGER', <br />                         60,'ALT TRIGGER', <br />                         61,'DRP TRIGGER', <br />                         62,'ANALYZE TAB', <br />                         63,'ANALYZE IX', <br />                         64,'ANALYZE CLUS', <br />                         65,'CRE PROFILE', <br />                         66,'DRP PROFILE', <br />                         67,'ALT PROFILE', <br />                         68,'DRP PROC', <br />                         69,'DRP PROC', <br />                         70,'ALT RESOURCE', <br />                         71,'CRE SNPLOG', <br />                         72,'ALT SNPLOG', <br />                         73,'DROP SNPLOG', <br />                         74,'CREATE SNAP', <br />                         75,'ALT SNAP', <br />                         76,'DROP SNAP', <br />                         79,'ALTER ROLE', <br />                         79,'ALTER ROLE', <br />                         85,'TRUNC TAB', <br />                         86,'TRUNC CLUST', <br />                         88,'ALT VIEW', <br />                         91,'CRE FUNC', <br />                         92,'ALT FUNC', <br />                         93,'DROP FUNC', <br />                         94,'CRE PKG', <br />                         95,'ALT PKG', <br />                         96,'DROP PKG', <br />                         97,'CRE PKG BODY', <br />                         98,'ALT PKG BODY', <br />                         99,'DRP PKG BODY', <br />                         to_char(vs.command)) "Command",<br />    vs.machine "Machine",<br />    vs.osuser "OS User", <br />    lower(vs.status) "Status",<br />    vs.program "Program",<br />    vs.module "Module",<br />    vs.action "Action",<br />    vs.resource_consumer_group,<br />    vs.client_info,<br />    vs.client_identifier<br />from gv$session vs <br />where vs.USERNAME is not null<br />and nvl(vs.osuser,'x') &lt;&gt; 'SYSTEM'<br />and vs.type &lt;&gt; 'BACKGROUND'<br />order by 1;<br /><br /></pre>